'use strict';

var axios = require('axios');

module.exports = {
	daedalusUrl: 'localhost',
	daedalusPort: 80,
	log: function log(message) {
		console.error('CRIT: ' + message);
	},
	clone: function clone(obj) {
		return JSON.parse(JSON.stringify(obj));
	},

	// concatenates all the urlSegments into one http url
	// could probably be done a bit more cleanly, but this will work for now
	generateEndpointRequestUrl: function generateEndpointRequestUrl(urlSegments) {
		// 0 = apiUrl
		// 1 = schemaUrl
		// 2 = endpointUrl
		var requestUrl = urlSegments[0] + '/' + urlSegments[1] + '/' + urlSegments[2];

		return requestUrl;
	},

	// sends an axios post request and returns the axios promise
	// in order to allow for contacting a separate api server, CORS has to be enabled
	// return the promise object for the user to resolve when needed
	sendXHR: function sendXHR(url, params) {
		return axios.post('http://' + this.daedalusUrl + ':' + this.daedalusPort + '/' + url, { params: { params: params } });
	}
};